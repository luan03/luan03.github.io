<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Luan Fagundes</title>
    <link href="../../../../public/css/screen.css" media="screen" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="main"></div>

    <div class="section page-post">
        <h2 title="Performance em Javascript" class="title-post">Performance em Javascript</h2>

         <h3 class="topic">Boas Práticas de performance:</h3>

        <ul>
            <li>Não correr imediatamente para otimização do javascript.</li>
            <li>Investir a rede, DOM, imagens e outros gargalos possíveis.</li>
            <li>Identificar o perfil da sua aplicação e a lógica do código.</li>
            <li>Otimizar o Js quando o necessário.</li>
        </ul>

        <p>Hoje em dia os sites são cada vez mais dinâmicos então está cada vez mais difícil cachear informações.</p>


    <i>A primeira coisa a fazer é investigar para descobrir onde está o problema de desempenho está vindo. As causas podem ser múltiplas:</i>

    <ul>
        <li>Baseando-se muito na conexão</li>
        <li>Manipulação DOM Extensa</li>
        <li>Problemas de renderização (layout de forçado ...)</li>
        <li>io (por exemplo, o uso repetido de localStorage )</li>
    </ul>

    <p>Use a guia Rede de ferramenta de desenvolvimento do seu navegador favorito. Certifique-se que os seus pedidos não têm qualquer impacto sobre a sua aplicação no início e tempo de execução. Chamadas Ajax repetidos podem abrandar aplicações também.</p>


    <p>Identificar manipulação DOM lento é um pouco mais difícil. A guia Timeline de ferramentas dev do Chrome pode ajudá-lo a identificar tais questões.</p>

    <p>Claro, você deve se familiarizar com as melhores práticas. Por exemplo, quando o processamento de uma lista de itens em um motor de templates, mover o loop para o modelo e anexar todos os itens para o DOM em uma operação.</p>

    <p>Problemas de processamento também pode ser capturada por ferramentas dev do Chrome e a partir da versão 27, o Firefox pode agora funções que desencadeiam um refluxo de log !</p>

    <p>Há uma série de recursos valiosos na net sobre como rastrear e corrigir esses problemas, por isso não vou cobri-los aqui. Uma vez fixado, o aplicativo deve funcionar mais suave. Não é o caso com o seu? Continue lendo então.</p>

    <p>Perfil e melhorar a lógica. Enxágüe e repita</p>

    <p>Então você fez todas estas verificações e você percebeu que o JavaScript é realmente o que faz com que seu aplicativo para executar mal.</p>

    <p>Nice, a minha parte favorita do processo de otimização começa aqui! Você precisa o perfil de seu aplicativo.</p>

    <p>Pegue o seu navegador moderno. Inicie o profiler então o seu aplicativo e interagir com ele como um usuário normal faria. Depois de um tempo, parar o profiler.</p>

    <p>Agora você pode navegar para os mais freqüentemente chamados de funções. Se você estiver usando encerramentos ou funções geradas, certifique-se de nomeá-los para obter resultados significativos.</p>

    <p>Agora, ter um olhar para a lógica das chamadas. Há certamente espaço para a otimização. Os erros mais comuns incluem:</p>

    <ul>
        <li>Chamar uma função muitas vezes, onde o resultado pode ser armazenado em cache e reutilizados.</li>
        <li>Laços profundamente aninhadas.</li>
        <li>Iteração muitas vezes quando você poderia parar a iteração prematuramente.</li>
        <li>Você também precisa o perfil da memória utilizada e rastrear vazamento potencial ou coletas de lixo pesados.</li>
    </ul>

    <p>Ao operar ao nível da lógica de código, você pode melhorar a velocidade de sua aplicação. As correções aplicadas aqui não estão diretamente relacionados com a linguagem JavaScript, mas sim com a lógica do seu código.</p>

    <p>Você encontrou e corrigiu esses gargalos e agora o aplicativo está rodando mais rápido e suave. Você agora está feito, não há necessidade de ler mais.</p>

    <h3 class="topic">Sobre otimização JavaScript</h3>

    <p>Você ainda está lendo? Eu suponho que você está trabalhando em uma ferramenta de processamento de sinal, um jogo ou uma peça fundamental do software que deve correr rápido.</p>

    <p>Antes de olhar para a otimização de JavaScript, devo esclarecer um par de coisas.</p>

    <p>Tenha em mente que o JavaScript VMs são muito bons em executar o código em uma velocidade rápida.</p>

    <p>Confie no VM.</p>

    <p>A segunda coisa é usar uma sintaxe alternativa JavaScript no seu código é provável que nunca tenha qualquer impacto significativo na velocidade. Esta crença remonta desde o tempo dos navegadores não tinha um JIT. Naquela época, o uso de diferentes sintaxes pode fazer a diferença. Este tipo de declarações floresceu pela web:</p>

    <ul>
        <li>se são mais rápidos do interruptor.</li>
        <li>operações bit a bit são mais rápidos do que os operadores matemáticos.</li>
        <li>juntar matriz para fazer cordas concatenação</li>
    </ul>

    <p>Optimizar JavaScript não é sobre a sintaxe. Você não pode basear uma estratégia de otimização em sintaxe reescrever só. Você vai acabar perdendo o seu tempo e obter um pouco ou nenhum resultado. Eu não estou nem mesmo mencionar o impacto sobre a legibilidade ea manutenção do seu código.</p>

    <p>Além disso, VM estão em constante evolução. O melhor desempenho de hoje talvez não amanhã. Implementadores VM ter o código do mundo real para ver o que os desenvolvedores fazem e quais os padrões para otimizar. Usando a sintaxe estranho é provável que nunca ser otimizado. Basta escrever o seu código de uma maneira que faz sentido e que deve ser suficiente.</p>


    <h3 class="topic">Finalmente, você está pronto para otimizar JavaScript</h3>

    <i>Depois de ler e compreender as afirmações acima, agora você está pronto para melhorar seu código usando as otimizações avançadas. Estas técnicas loucas incluem:</i>

    <ul>
        <li>Cumprimento tipo de estabilidade</li>
        <li>Deoptimisations Rastreamento</li>
        <li>Use trabalhadores da Internet para fazer o processamento parrallel</li>
        <li>Na 2 ª parte desta palestra , Vyacheslav mostra uma ferramenta para inspecionar o código gerado pelo V8. É complexo para mergulhar os internos da VM, mas essa é a única maneira de ganhar alguns pontos de desempenho.</li>
    </ul>

    <p>Para acompanhar deoptimisations, usando o Chrome ou V8, você pode passar algumas bandeiras, como - trace_deopt (traço deoptimization). Você vai receber uma mensagem mais ou menos descritivo sobre o porquê de V8 não é capaz de otimizar o seu código. Corrigi-lo, se possível.</p>

    <p>Não existem tais ferramentas para o Firefox (desde inspetor JIT não está funcionando) ou IE. Então eu tenho que recomendar Chrome para otimizar o JavaScript desta forma. No entanto, tentar o máximo possível para não ser muito específico para que seu código correr rápido, ou pelo menos não mais lento, em outros navegadores também.</p>

    <p>Otimização é um tema complexo, mas existem técnicas que podem ser aplicadas para tornar seu código corrida rápida. Eu gostaria de elaborar sobre cada passo descrito neste processo, na forma de posts. Mas, por enquanto, apenas tomar o tempo para localizar a causa da lentidão e não incriminar JavaScript imediatamente, o culpado pode estar escondido em outro lugar!</p>

    <h3 class="topic">- Referências:</h3>

    <a href="//gu.illau.me/posts/dont-optimise-javascript/" title="dont optimise javascript" target="_blank" class="references-post">http://gu.illau.me/posts/dont-optimise-javascript/</a>

    </div>
</body>
</html>